general {
    lock_cmd = pgrep -x hyprlock >/dev/null || hyprlock
    before_sleep_cmd = pidof hyprlock && (hyprlock &) && sleep 5
    after_sleep_cmd = sleep 5 && hyprctl dispatch dpms on
}

# 4 min idle: dim screen
listener {
    timeout = 240
    on-timeout = brightnessctl -s set 10
}

# 5 min idle: lock screen
listener {
    timeout = 300
    on-timeout = brightnessctl -r && (pidof hyprlock || hyprlock)
}

# 10 min idle: turn screen off
listener {
    timeout = 600
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# 15 min idle: suspend
listener {
    timeout = 900
    on-timeout = systemctl suspend
}
